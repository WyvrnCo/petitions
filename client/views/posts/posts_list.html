<template name="postsList">
  <div class="application-content container-fluid">
    {{> petitionGroup posts=posts
                      postOrder=postOrder
                      title="All Petitions"
                      tags=tags
                      noposts="Be the first to petition your government." }}
  </div>
</template>

<template name="postsTagList">
  <div class="application-content container-fluid">
    {{> petitionGroup posts=posts
                      postOrder=postOrder
                      tag=this.tag
                      tags=tags
                      noposts="There are no petitions with that tag." }}
  </div>
</template>

<template name="postsInProgressList">
  <div class="application-content container-fluid">
    {{> petitionGroup posts=posts
                      postOrder=postOrder
                      title="In Progress"
                      description="These petitions are currently being worked on by Student Government. Status updates may be available on the petition page."
                      noposts="No petitions are currently in progress." }}
  </div>
</template>

<template name="postsWithResponsesList">
  <div class="application-content container-fluid">
    {{> petitionGroup posts=posts
                      postOrder=postOrder
                      title="Responses"
                      description="These petitions have recieved official responses."
                      noposts="No petitions have received responses." }}
  </div>
</template>


<template name="petitionGroup">
  <div class="petitions col-sm-10 col-sm-offset-1">
    <div class="row">
      <div class="col-md-3 col-sm-12">
        {{#if empty posts}}
        {{else}}
          <div class="col-md-12">
            <span class="pull-left">Sort By</span>
            <select id="petition-order" class="form-control input-lg">
              <option {{selected postOrder "submitted"}} value="submitted">Most Recent</option>
              <option {{selected postOrder "votes"}} value="votes">Most Signatures</option>
            </select>
            <div id="tag-select">
              {{#each this.tags}}
                <div class="col-md-12">
                  <div class="list-group">
                    <button class="list-group-item" {{selected tag "{{this.name}}" }} value="{{this.name}}">{{this.name}}</button>
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/if}}
      </div>
      <div class="col-md-9 col-sm-12">
        <div>
          <h2
              data-toggle="tooltip"
              data-placement="bottom"
              title="{{description}}">
            {{#if this.tag}}
              {{this.tag}} Petitions
            {{else}}
              {{title}}
            {{/if}}
            {{#if description}}
              <div class="glyphicon glyphicon-question-sign"
                    style="zoom: 65%; padding-left: 5px;"></div>
            {{/if}}
          </h2>
        </div>
        {{#each posts}}
          {{> postCard post=this }}
        {{/each}}
        {{#if empty posts}}
          <div class="panel">
            <p class="footer-subtitle text-center" style="margin: 50px 0;">
              <p>{{ noposts }}</p><a href="{{pathFor 'postSubmit'}}">Create a petition.</a>
            </p>
          </div>
        {{/if}}
      </div>
    </div>

  </div>
</template>
